<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viersen Voting Record</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            padding: 0;
            background-color: #f8f9fa;
        }
        h1 {
            text-align: center;
            color: #333;
        }
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        select {
            padding: 8px;
            font-size: 16px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
    </style>
</head>
<body>

    <h1>Viersen Voting Record</h1>

    <div class="filter-container">
        <select id="voteFilter">
            <option value="all">Filter by Vote</option>
            <option value="For">For</option>
            <option value="Against">Against</option>
        </select>

        <select id="categoryFilter">
            <option value="all">Filter by Category</option>
            <option value="COVID-19 Measures">COVID-19 Measures</option>
            <option value="Legislation & Governance">Legislation & Governance</option>
            <option value="Justice & Public Safety">Justice & Public Safety</option>
            <option value="Budget & Government Spending">Budget & Government Spending</option>
            <option value="Health & Healthcare">Health & Healthcare</option>
            <option value="Indigenous & Social Issues">Indigenous & Social Issues</option>
            <option value="International Affairs & Trade">International Affairs & Trade</option>
            <option value="Environment & Climate">Environment & Climate</option>
            <option value="Labour & Employment">Labour & Employment</option>
            <option value="Infrastructure & Transportation">Infrastructure & Transportation</option>
        </select>
    </div>

    <table>
        <thead>
            <tr>
                <th>Bill</th>
                <th>Title</th>
                <th>Viersen's Vote</th>
                <th>Category</th>
            </tr>
        </thead>
        <tbody id="voteTable">
            <!-- Data will be inserted here -->
        </tbody>
    </table>

    <script>
        // Replace with your Google Sheet ID
        const sheetId = "1fxoIRkPOYeOReGjRu5xxgEQSr3OcxoFhl8pyaOhluWY"; // Use your actual sheet ID

        // URL to fetch data in JSON format
        const sheetUrl = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json`;

        let voteData = []; // Global variable to hold fetched data

        // Function to fetch data from Google Sheets
        async function fetchGoogleSheetData() {
            try {
                const response = await fetch(sheetUrl);
                const text = await response.text();

                // Extract JSON from Google Sheets response
                const json = JSON.parse(text.substring(47, text.length - 2));
                const rows = json.table.rows;

                // Map data into an array
                voteData = rows.map(row => ({
                    bill: row.c[0]?.v || "N/A",
                    title: row.c[1]?.v || "N/A",
                    vote: row.c[2]?.v || "N/A",
                    category: row.c[3]?.v || "N/A"
                }));

                // Display the table
                displayTable(voteData);

            } catch (error) {
                console.error("Error fetching data:", error);
            }
        }

        // Function to display the table
        function displayTable(data) {
            const tableBody = document.getElementById("voteTable");
            tableBody.innerHTML = ""; // Clear existing rows

            data.forEach(row => {
                const tr = document.createElement("tr");
                tr.innerHTML = `
                    <td>${row.bill}</td>
                    <td>${row.title}</td>
                   
